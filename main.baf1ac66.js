(()=>{"use strict";var e={827:(e,t,a)=>{var s=a(294),i=a(935);const n=Object.freeze({LB:"LB",KG:"KG"}),l={LB:1/2.205,KG:1},r="LHS",c={LB:"$ per lb",KG:"$ per kg"};class h extends s.Component{constructor(e){super(e),this.handleSelectChange=this.handleSelectChange.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}handleSelectChange(e){this.props.onSelectChange(this.props.side,e.target.value)}handleInputChange(e){this.props.onPriceChange(this.props.side,e.target.value)}render(){const e=this.props.price,t=this.props.scale,a=Object.entries(n).map((e=>s.createElement("option",{key:e[0],value:e[0]},e[1])));return s.createElement("div",{className:"grocery-row-item"},s.createElement("label",null,c[t]),s.createElement("select",{value:t,onChange:this.handleSelectChange},a),s.createElement("input",{type:"text",onChange:this.handleInputChange,value:e,name:c[t]}))}}function o(e){return e.toFixed(2)}function p(e,t,a,s){let i,n;return e===r?(i=s,n=o(s*l[a]/l[t])):(n=s,i=o(s*l[a]/l[t])),{priceLeft:i,priceRight:n}}class u extends s.Component{constructor(e){super(e),this.swapScale=this.swapScale.bind(this),this.deleteCalc=this.deleteCalc.bind(this),this.handleScaleChange=this.handleScaleChange.bind(this),this.handleUnitChnage=function(e,t){let a;return function(...t){const s=this;clearTimeout(a),a=setTimeout((()=>e.apply(s,t)),100)}}(this.handleUnitChnage).bind(this),this.firstScale=Object.keys(n)[0],this.state={scaleLeft:this.firstScale,priceLeft:0,scaleRight:n.KG,priceRight:0}}swapScale(){const{scaleLeft:e,scaleRight:t,priceLeft:a,priceRight:s}=this.state;this.setState({scaleLeft:t,priceLeft:s,scaleRight:e,priceRight:a})}deleteCalc(){this.props.handleClickDelete(this.props.identifier)}handleScaleChange(e,t){const a=this.state.scaleLeft,s=this.state.priceLeft,i=this.state.scaleRight,l=this.state.priceRight;if(e===r){if(t===this.state.scaleRight){const{priceLeft:l,priceRight:r}=p(e,i,a,s);this.setState({scaleLeft:n[t],priceLeft:l,scaleRight:a,priceRight:r})}}else if(t===this.state.scaleLeft){const{priceLeft:s,priceRight:r}=p(e,a,i,l);this.setState({scaleLeft:i,priceLeft:s,scaleRight:n[t],priceRight:r})}}handleUnitChnage(e,t){const a=this.state.scaleRight,s=this.state.scaleLeft,{priceLeft:i,priceRight:n}=p(e,s,a,t);this.setState({priceLeft:i,priceRight:n})}render(){const e=this.state.scaleLeft,t=this.state.scaleRight;let a=this.state.priceLeft,i=this.state.priceRight;return s.createElement("div",{className:"grocery-row"},s.createElement("div",{className:"row"},s.createElement("p",{className:"title"},this.props.title),s.createElement("i",{onClick:this.deleteCalc,className:"delete fas fa-times fa-lg"})),s.createElement("div",{className:"grocery-row-convert"},s.createElement(h,{scale:e,price:a,side:r,onSelectChange:this.handleScaleChange,onPriceChange:this.handleUnitChnage}),s.createElement("i",{onClick:this.swapScale,className:"fas fa-arrows-alt-h fa-lg"}),s.createElement(h,{scale:t,price:i,side:"RHS",onSelectChange:this.handleScaleChange,onPriceChange:this.handleUnitChnage})))}}class d extends s.Component{constructor(e){super(e),this.textInput=null,this.setTextInputRef=e=>{this.textInput=e},this.addNewCalculator=this.addNewCalculator.bind(this),this.deleteCalculator=this.deleteCalculator.bind(this),this.state={calculator:[]}}addNewCalculator(e){if(e.preventDefault(),""===this.textInput.value.trim())return void(this.textInput.value="");const t={name:this.textInput.value,key:Date.now()};this.setState((e=>({calculator:e.calculator.concat(t)}))),this.textInput.value=""}deleteCalculator(e){this.setState((t=>({calculator:t.calculator.filter((t=>t.key!==e))})))}render(){const e=this.state.calculator.map((e=>s.createElement(u,{key:e.key,identifier:e.key,title:e.name,handleClickDelete:this.deleteCalculator})));return s.createElement(s.Fragment,null,s.createElement("h2",null,"Grocery Helper"),s.createElement("form",{onSubmit:this.addNewCalculator},s.createElement("input",{className:"padding",placeholder:"Enter item's name",ref:this.setTextInputRef}),s.createElement("button",{className:"padding btn--submit__margin",type:"submit"},"Add"),e))}}let g=document.getElementById("content");g||(g=document.createElement("div"),g.id="content"),document.body.appendChild(g),i.render(s.createElement(d,null),g)}},t={};function a(s){if(t[s])return t[s].exports;var i=t[s]={exports:{}};return e[s](i,i.exports,a),i.exports}a.m=e,a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0},t=[[827,736]],s=()=>{};function i(){for(var s,i=0;i<t.length;i++){for(var n=t[i],l=!0,r=1;r<n.length;r++){var c=n[r];0!==e[c]&&(l=!1)}l&&(t.splice(i--,1),s=a(a.s=n[0]))}return 0===t.length&&(a.x(),a.x=()=>{}),s}a.x=()=>{a.x=()=>{},l=l.slice();for(var e=0;e<l.length;e++)n(l[e]);return(s=i)()};var n=i=>{for(var n,l,[c,h,o,p]=i,u=0,d=[];u<c.length;u++)l=c[u],a.o(e,l)&&e[l]&&d.push(e[l][0]),e[l]=0;for(n in h)a.o(h,n)&&(a.m[n]=h[n]);for(o&&o(a),r(i);d.length;)d.shift()();return p&&t.push.apply(t,p),s()},l=self.webpackChunkgrocery_helper=self.webpackChunkgrocery_helper||[],r=l.push.bind(l);l.push=n})(),a.x()})();